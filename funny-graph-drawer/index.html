<style>
    #chart {
        border: 1px solid black;
        /*
        make the width and height always the same
        */
        width: 500px;
        height: 500px;
        position: absolute;
        left: 5px;
        top: 25%;

        display: grid;
        grid-template-columns: repeat(101, 1fr);
        grid-template-rows: repeat(101, 1fr);  
    }
    #input {
        resize: none;
        width: 500px;
        height: 170px;
        position: absolute;
        left: 5px;
    }
    #input:focus {
        outline: none;
    }
    #blocker {
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
        z-index: 1000;
        font-size: 100px;
        display: flex;
        justify-content: center;
        align-items: center;
    }
</style>
<head>
    <script src="https://unpkg.com/mathjs@11.4.0/lib/browser/math.js"></script>
</head>
<body>
    <textarea id="input"></textarea>
    <div id="chart"></div>
</body>
<script>
    // make this a module
    const chart = document.getElementById("chart");
    const input = document.getElementById("input");

    const gradient = {
        lowest: {
            r: 255,
            g: 0,
            b: 0
        },
        highest: {
            r: 255,
            g: 255,
            b: 255,
        }
    }

    const cellMax = 50;
    const equation = 'x = y^2';


    function clean(string){
        return Array(Array(string.trim()).reverse().join().trim()).reverse().join();
    }

    window.onload = function(){
        for(y = cellMax; y > -cellMax - 1; y--) {
            for(x = -cellMax; x < cellMax + 1; x++) {
                let div = document.createElement("div");
                div.setAttribute('connectorNode', 'false')
                div.id = `${x},${y}`
                if((x == 0 && y % 5 == 0) ||
                        (y == 0 && x % 5 == 0)){
                    div.style.backgroundColor = `black`;
                }
                chart.appendChild(div);
            }
        }
        draw(equation)
    }

    function draw(input){
        for(y = cellMax; y > -cellMax - 1; y--) {
            for(x = -cellMax; x < cellMax + 1; x++) {
                let div = document.getElementById(`${x},${y}`);
                let solvingSide = clean(input.split('=')[0])
                let equ = math.evaluate(clean(input.split('=')[1]), {x: x, y: y})
                if(clean(input.split('=')[0]) == 'x'){
                    if(x == equ){
                        div.setAttribute('connectorNode', 'true')
                        div.style.backgroundColor = `black`;
                    }
                } else {
                    if(y == equ){
                        div.setAttribute('connectorNode', 'true')
                        div.style.backgroundColor = `black`;
                    }
                }
            }
        }
    }


    // https://www.youtube.com/watch?v=JnCkF62gkOY
    /*






                let equ = math.evaluate(clean(equation.split('=')[1]), {x: x, y: y})
                if(clean(equation.split('=')[0]) == 'x'){
                    if(x == equ){
                        div.style.backgroundColor = `black`;
                    }
                } else {
                    if(y == equ){
                        div.style.backgroundColor = `black`;
                    }
                }





    */

</script>