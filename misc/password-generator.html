<style>

</style>
<head>

</head>
<body>
    <input id="passwordLength" type="range" min="8" max="24" value="16"></input><br>
    <input id="includeUppercase" type="checkbox"></input><label for="includeUppercase">Include Uppercase</label><br>
    <input id="includeNumbers" type="checkbox"></input><label for="includeNumbers">Include Numbers</label><br>
    <input id="includeSymbols" type="checkbox"></input><label for="includeSymbols">Include Symbols</label><br>
    <input id="disallowSimilarCategories" type="checkbox"></input><label for="disallowSimilarCategories">Disallow Similar Categories</label><br>
    <button id="generatePassword">Generate Password</button>
</body>
<script>

    const passwordLength = document.getElementById("passwordLength");
    const uppercaseCheckbox = document.getElementById("includeUppercase");
    const numbersCheckbox = document.getElementById("includeNumbers");
    const symbolsCheckbox = document.getElementById("includeSymbols");
    const disallowSimilarCategoriesCheckbox = document.getElementById("disallowSimilarCategories");

    function generatePassword(length, includeUppercase, includeNumbers, includeSymbols, disallowSimilarCategories){

        const characters = {
            "l": "abcdefghijklmnopqrstuvwxyz",
            "u": "ABCDEFGHIJKLMNOPQRSTUVWXYZ",
            "n": "0123456789",
            "s": "!@#$%&()_-[]{}"
        }

        let allowedCategories = ["l"];
        if(includeUppercase) allowedCategories.push("u");
        if(includeNumbers) allowedCategories.push("n");
        if(includeSymbols) allowedCategories.push("s");

        let chosenCategories = [];

        for(i = 0; i < length; i++){
            let category = allowedCategories[Math.floor(Math.random() * allowedCategories.length)];

            if(disallowSimilarCategories && chosenCategories.length > 0){
                while(chosenCategories[chosenCategories.length - 1] == category){
                    category = allowedCategories[Math.floor(Math.random() * allowedCategories.length)];
                }
            }
            chosenCategories.push(category);
        }

        let password = [];
        for(i = 0; i < chosenCategories.length; i++){
            let category = chosenCategories[i];
            let character = characters[category][Math.floor(Math.random() * characters[category].length)];
            password.push(character);
        }

        console.log(password)
    }

    document.querySelector("#generatePassword").onclick = () => {
        generatePassword(passwordLength.value, uppercaseCheckbox.checked, numbersCheckbox.checked, symbolsCheckbox.checked, disallowSimilarCategoriesCheckbox.checked);
    }
</script>