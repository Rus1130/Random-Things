<style>

    html {
        font-family: monospace;
        user-select: none;
    }
    textarea {
        outline: none;
        font-family: monospace;
        resize: none;
    }
    textarea:focus {
        outline: none;
    }
    button {
        display: flex;
        align-items: center;
        justify-content: center;
        font-family: monospace;
        border: 1px black solid;
        border-radius: 2px;
        font-size: 15px;
        background-color: beige;
        width: 400px;
        height: 50px;
        font-size: 20px;
    }
    #container {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        width: 100%;
        height: 100%;
        margin: 0px;
    }
</style>
<head>

</head>
<body>
    <div id="container">
        <pre><h1>Racism Detector</h1></pre>
        <textarea id="input" rows="15" cols="50" placeholder="input"></textarea>
        <br>
        <button onclick="detectRacism(input.value)">Detect Racism</button>
        <br>
        <textarea id="output" rows="15" cols="50" readonly placeholder="output"></textarea>
    </div>
</body>
<script>
    // make a function that checks if the number is between two numbers
    function isBetween(num, min, max) {
        return num >= min && num <= max;
    }

    // this is for testing purposes only, im not racist i swear

    const zeroToTen = "\n\nWow, you're not racist! Shocker! 😲😲😲";
    const tenToTwenty = "\n\nYou're a little bit racist, but not too bad. 😐😐😐";
    const twentyToThirty = "\n\nYou're pretty racist. 😠😠😠";
    const thirtyToForty = "\n\nYou're really racist. 😡😡😡";
    const fortyToFifty = "\n\nYou dog on black people weekly. 😤😤😤";
    const fiftyToSixty = "\n\nYou dog on black people daily. 😥😥😥";
    const sixtyToSeventy = "\n\nYou're mad racist. 😧😧😧";
    const seventyToEighty = "\n\nYou're america level racist. 😨😨😨";
    const eightyToNinety = "\n\nYou're KKK level racist. 😱😱😱"
    const ninetyToOneHundred = "\n\nYou're Jax level racist!! Congrats! 🥵🥵🥵"

    const main = /(those.*)?(nigger(s)?|nigga(s)?)/g
    const nword = /(hate.*)?(black(s)?|nigger(s)?|nigga(s)?|jew(s)?|chink(s)?)((.*bad)|(.*bitch(es)?))?/g
    const hate = /hate(.*black(s)?.*people)?/g
    const africa = /(go.*back.*africa)|(go.*africa)/g
    const africans = /african(s)?.*(bad|shit|retard|dumb)/g
    const planty = /on.*plantation(.*cotton)?/g
    const supremeacy = /white.*m(a|e)n((')?s)?.*(land|only)/g

    const input = document.getElementById("input")
    const output = document.getElementById("output")

    const rpoint = "--RACISM--"

    const fillerCheck = /(.)\1\1/g

    let averageRacistReport = 0
    let averageRacistReportCount = 0

    function detectRacism(string){
        if(string == ""){
            output.value = "You dumb retard. You think I wouldn't notice if you didn't put anything into the input?"
        } else if(fillerCheck.test(string)){
            output.value = "You retard, you think I wouldn't notice? Shut up with your dumbass fillers."
        } else if(!fillerCheck.test(string)){
            let detectedString = 
            string.toLocaleLowerCase()
                .replaceAll(main, rpoint)
                .replaceAll(nword, rpoint)
                .replaceAll(hate, rpoint)
                .replaceAll(africans, rpoint)
                .replaceAll(africa, rpoint)
                .replaceAll(planty, rpoint)
                .replaceAll(supremeacy, rpoint)
                .replaceAll(" ", "%%%%")

            let detectedStringNoRPoint = detectedString.replaceAll("%%%%", "").replaceAll(rpoint, "")

            let racistReport = ''

            let stringLength = string.length
            let filteredStringLength = detectedStringNoRPoint.length

            let rawRacistPercent = +(((stringLength - filteredStringLength) / stringLength) * 100).toFixed(2)

            let potentiallyRacistPhrases = `Potentially Racist Phrases: ${detectedString.split(rpoint).length - 1}\n`
            let racistPercentage = `Potentally Racist Content Percentage: ${rawRacistPercent}%\n`

            if(isBetween(rawRacistPercent, 0, 10)){
                racistReport = zeroToTen
            } else if(isBetween(rawRacistPercent, 10, 20)){
                racistReport = tenToTwenty
            } else if(isBetween(rawRacistPercent, 20, 30)){
                racistReport = twentyToThirty
            } else if(isBetween(rawRacistPercent, 30, 40)){
                racistReport = thirtyToForty
            } else if(isBetween(rawRacistPercent, 40, 50)){
                racistReport = fortyToFifty
            } else if(isBetween(rawRacistPercent, 50, 60)){
                racistReport = fiftyToSixty
            } else if(isBetween(rawRacistPercent, 60, 70)){
                racistReport = sixtyToSeventy
            } else if(isBetween(rawRacistPercent, 70, 80)){
                racistReport = seventyToEighty
            } else if(isBetween(rawRacistPercent, 80, 90)){
                racistReport =  eightyToNinety
            } else if(isBetween(rawRacistPercent, 90, 100)){
                racistReport = ninetyToOneHundred
            }

            let result = potentiallyRacistPhrases + racistPercentage + racistReport + `\n\n${detectedString.replaceAll("%%%%", " ")}`
            output.value = result
        }
    }


</script>