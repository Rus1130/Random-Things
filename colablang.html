<style>
    input {
        border: 0.5px solid black;
    }
    input:focus {
        outline: none;
        border: 0.5px solid black;
    }
    select {
        border: 0.5px solid black;
    }
    select:focus {
        outline: none;
        border: 0.5px solid black;
    }

    html {
        font-family: Arial, Helvetica, sans-serif;
        font-size: 14pt;
    }
</style>

<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>

<body>
    <div id="output" style="height: 30px; font-size: 20pt;">&nbsp;</div>
    Dialect Rus:
    <input type="text" id="convert" onchange="convertRus(convertType.value, convertText.value)">
    <select id="typeSelect" onchange="convertRus(convertType.value, convertText.value)" title="Type" style="cursor: pointer;">
        <option value="IPA">IPA</option>
        <option value="phagspa">Phagspa</option>
    </select>
    <input type="checkbox" id="flourish" name="flourish" checked>
    <label for="flourish"> Dialect Rus Flourish</label>
</body>


<script>
    var convertType = document.getElementById("typeSelect");
    var output = document.getElementById("output");
    var convertText = document.getElementById("convert");
    var adder = "";
    var leftFlourish = "ꡲ";
    var rightFlourish = "ꡳ";

    let conversionHandlerArray = new Array();


    function convertRus(type, text){
        switch(type){
            case "IPA":
                conversionHandlerArray = [];
                [...text].forEach(function(c){
                    adder = inventory[c]["IPA"]
                    conversionHandlerArray.push(adder);
                })
                break;
            case "phagspa":
                conversionHandlerArray = [];
                [...text].forEach(function(c){
                    adder = inventory[c]["phagspa"]
                    conversionHandlerArray.push(adder)
                })
                break;
            default:
                return console.error("syntax error");
        }
        switch(type){
            case "IPA":
                output.innerHTML = "[" + conversionHandlerArray.join("") + "]";
                break;
            case "phagspa":
                output.innerHTML = "ꡲ" + conversionHandlerArray.join("") + "ꡳ";
        }
        
    }

    function checkFlourish(){
        if ($('#flourish').is(":checked")){
            leftFlourish = "ꡲ";
            rightFlourish = "ꡳ";
        } else {
            leftFlourish = "";
            rightFlourish = "";
        }
    }


    const inventory = {
        "p":{
            IPA:"p",
            phagspa:"ꡁ"
        },
        "b":{
            IPA:"b",
            phagspa:"ꡂ"
        },
        "t":{
            IPA:"t",
            phagspa:"ꡎ"
        },
        "d":{
            IPA:"d",
            phagspa:"ꡍ"
        },
        "k":{
            IPA:"k",
            phagspa:"ꡌ"
        },
        "g":{
            IPA:"g",
            phagspa:"ꡖ"
        },
        "f":{
            IPA:"f",
            phagspa:"ꡰ"
        },
        "s":{
            IPA:"s",
            phagspa:"ꡞ"
        },
        "c":{
            IPA:"ɕ",
            phagspa:"ꡟ"
        },
        "h":{
            IPA:"x",
            phagspa:"ꡜ"
        },
        "j":{
            IPA:"j",
            phagspa:"ꡬ"
        },
        "r":{
            IPA:"ɾ",
            phagspa:"ꡮ"
        },
        "x":{
            IPA:"ɬ",
            phagspa:"ꡤ"
        },
        "l":{
            IPA:"ʎ",
            phagspa:"ꡣ"
        },
        "z":{
            IPA:"t͡s",
            phagspa:"ꡔ"
        },
        "m":{
            IPA:"m",
            phagspa:"ꡋ"
        },
        "n":{
            IPA:"n",
            phagspa:"ꡏ"
        },
        "i":{
            IPA:"i",
            phagspa:"ꡱ"
        },
        "í":{
            IPA:"ɨ",
            phagspa:"ꡙ"
        },
        "ú":{
            IPA:"ɯ",
            phagspa:"ꡯ"
        },
        "u":{
            IPA:"u",
            phagspa:"ꡊ"
        },
        "ö":{
            IPA:"ø",
            phagspa:"ꡧ"
        },
        "o":{
            IPA:"o",
            phagspa:"ꡑ"
        },
        "e":{
            IPA:"ɛ",
            phagspa:"ꡭ"
        },
        "ó":{
            IPA:"ɔ",
            phagspa:"ꡨ"
        },
        "a":{
            IPA:"a",
            phagspa:"ꡅ"
        },
        " ":{
            IPA:" ",
            phagspa:" "
        }
    }

</script>