<style>
    #wrapper {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100%;
    }

    #gameboard {
        display: grid;
        width: 920px;
        height: 450px;
        grid-template-columns: 450px 450px;
        grid-gap: 20px;
    }


    #player-ships, #player-radar {
        display: grid;
        grid-template-columns: repeat(11, 40px);
        grid-template-rows: repeat(11, 40px);
        grid-gap: 1px;
        border: 1px solid black;
    }

</style>
<head>
    <script src="two.js"></script>
</head>
<body>
    <div id="wrapper">
        <div id="gameboard">
            <div id="player-ships"></div>
            <div id="player-radar"></div>
        </div>
    </div>
</body>
<script>
    let gameState = 0;

    let enemyShips = {};
    let enemyRadar = {};
    let letters = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J'];
    let numbers = {
        'A': 1,
        'B': 2,
        'C': 3,
        'D': 4,
        'E': 5,
        'F': 6,
        'G': 7,
        'H': 8,
        'I': 9,
        'J': 10
    }

    const gameboard = document.getElementById('gameboard');
    const playerShips = document.getElementById('player-ships');
    const playerRadar = document.getElementById('player-radar');

    let currentCell = undefined;
    const whitelistedCells = [];

    const shipCells = [];

    for(i = 0; i < 11; i++) {
        for(j = 0; j < 11; j++) {
            let shipCell = document.createElement('div');
            let radarCell = document.createElement('div');

            shipCell.style.width = '40px';
            shipCell.style.height = '40px';

            radarCell.style.width = '40px';
            radarCell.style.height = '40px';

            shipCell.style.backgroundColor = 'white';
            radarCell.style.backgroundColor = 'white';

            shipCell.style.outline = '1px solid black';
            radarCell.style.outline = '1px solid black';

            shipCell.style.display = 'flex';
            radarCell.style.display = 'flex';

            shipCell.style.alignItems = 'center';
            radarCell.style.alignItems = 'center';

            shipCell.style.justifyContent = 'center';
            radarCell.style.justifyContent = 'center';

            shipCell.style.fontSize = '20px';
            radarCell.style.fontSize = '20px';

            shipCell.style.fontFamily = 'monospace';
            radarCell.style.fontFamily = 'monospace';

            shipCell.defaultBackgrounColor = 'white'

            if(j == 0){
                shipCell.innerHTML = letters[i - 1]
            }

            if(i == 0){
                shipCell.innerHTML = j;
            }

            if(j != 0 && i != 0){
                shipCell.id = "shipCell-" + letters[i - 1] + j;
            }

            shipCells.push(shipCell);

            playerShips.appendChild(shipCell);
            playerRadar.appendChild(radarCell);

        }
    }

    setInterval(function(){
        if(currentCell != undefined){
            let cell = document.getElementById(currentCell);
            cell.style.backgroundColor = 'grey';
        }
    }, 1)

    playerShips.onmousemove = e => {
        if(e.target.id.split("-")[0] == 'shipCell'){
            currentCell = e.target.id;
        }

        console.log(currentCell)
    }


    twoShips.bind('update', function(frameCount){
        if(gameState == 0){
            setHoveredCell('ship');
            let hoveredCellID = data.hoveredCell == undefined ? undefined : data.hoveredCell.id

            if(data.hoveredCell !== undefined){

                let shipParts = [data.hoveredCell.id.split("-")[1].split(""), data.hoveredCell.id.split("-")[1].split(""), data.hoveredCell.id.split("-")[1].split(""), data.hoveredCell.id.split("-")[1].split("")]

                if(data.hoveredCell.id.split("_")[0] != "ship-start"){
                    if(placingDirection == 'x'){

                        shipParts[0][0] += "+";
                        shipParts[1][0] += "+";
                        shipParts[2][0] += "+";
                        shipParts[3][0] += "+";

                        shipParts[0] = shipParts[0].join("").split("+");
                        shipParts[1] = shipParts[1].join("").split("+");
                        shipParts[2] = shipParts[2].join("").split("+");
                        shipParts[3] = shipParts[3].join("").split("+");

                        shipParts[0][1] = +shipParts[0][1] - 2;
                        shipParts[1][1] = +shipParts[1][1] - 1;
                        shipParts[2][1] = +shipParts[2][1] + 1;
                        shipParts[3][1] = +shipParts[3][1] + 2;

                        shipParts[0] = shipParts[0].join("")
                        shipParts[1] = shipParts[1].join("")
                        shipParts[2] = shipParts[2].join("")
                        shipParts[3] = shipParts[3].join("")

                        shipParts[0] = document.getElementById("ship-" + shipParts[0]);
                        shipParts[1] = document.getElementById("ship-" + shipParts[1]);
                        shipParts[2] = document.getElementById("ship-" + shipParts[2]);
                        shipParts[3] = document.getElementById("ship-" + shipParts[3]);

                    }
                }
                data.hoveredCellTimeline.push(data.hoveredCell);
                if(data.hoveredCellTimeline.length > 3){
                    data.hoveredCellTimeline.shift();
                }

                if(data.hoveredCellTimeline[1] !== data.hoveredCell){
                    data.previousHoveredCell = data.hoveredCellTimeline[1];
                }

                let cell = shipCells.find(cell => cell.id == data.hoveredCell.id);


                if(data.previousHoveredCell !== undefined){
                    if(data.hoveredCell.id.split("_")[0] != "ship-start"){
                        data.hoveredCell.style.fill = cell.backgroundSetDefault
                    }

                    data.previousHoveredCell.style.fill = cell.backgroundResetDefault


                    if(document.elementFromPoint(mouse.x, mouse.y).id.split("-")[0] != 'ship' &&
                        document.elementFromPoint(mouse.x, mouse.y).id.split("-")[0] != 'pin_ship'){
                        data.hoveredCell.style.fill = cell.backgroundResetDefault
                    }




                    




                }
            }
        }


    }).play();



</script>