<style>
    #grid {
        display: grid;
        grid-template-columns: repeat(30, 20px);
        grid-template-rows: repeat(30, 20px);
        width: 600px;
        height: 600px;
        border: 1px solid black;
    }
    .grid-cell {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 20px;
        width: 20px;
        font-family: monospace;
    }
</style>
<head>
</head>
<body>
    <div id="grid"></div>
</body>
<script>
    const grid = document.getElementById("grid");

    let pointer = 0;
    let grid_array = [];

    for(i = 0; i < 900; i++){
        let newGridCell = document.createElement("div");
        newGridCell.className = "grid-cell";
        newGridCell.id = "cell" + i;
        grid.appendChild(newGridCell);
        grid_array.push('');
    }
    let cellFocus = -1
    function updateCells(){
        for(i = 0; i < 900; i++){
            if(cellFocus == i){
                document.getElementById("cell" + i).style.backgroundColor = "indianred"; 
            } else if(i == pointer){
                document.getElementById("cell" + i).style.backgroundColor = "beige";
            } else {
                document.getElementById("cell" + i).style.backgroundColor = "white";
            }
        }
    }

    function moveRight(){
        cellFocus = -1;
        if(pointer % 30 != 29){
            pointer++
        } else {
            pointer -= 29
        }
    }
    function moveLeft(){
        cellFocus = -1;
        if(pointer % 30 != 0){
            pointer--
        } else {
            pointer += 29
        }
    }
    function moveUp(){
        cellFocus = -1;
        if(pointer >= 30){
            pointer -= 30
        } else {
            pointer += 880
        }
    }
    function moveDown(){
        cellFocus = -1;
        if(pointer < 880){
            pointer += 30
        } else {
            pointer -= 980
        }
    }

    document.onkeydown = function(e) {
        let key = e.which;
        if(key == 68){ // d
            moveRight()
        } else if(key == 65){ // a
            moveLeft()
        } else if(key == 87){ // w
            moveUp()
        } else if(key == 83){ // s
            moveDown()
        } else if(key == 32){ // space
            cellFocus = pointer;
        } else if(cellFocus != -1){
            grid_array[pointer] = e.key
        }
    }

    setInterval(() => {
        updateCells()
    },10)
    

</script>