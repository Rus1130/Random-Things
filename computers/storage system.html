<style>

</style>
<head>

</head>
<body>
    list drives
    rename drives
    create files
    delete files
    overwrite files
    lock files
    hide files
    lock drives
    hide drives

<pre>docs:
    Sys:
        displayDrive(driveNumber):
            display drives
            parameters:
                driveNumber (integer) (optional): drive number
</docs>
</body>
<script>
    const fileTemplate = {
        name: "Test",
        content: "Hello, world!",
        locked: false,
        hidden: false
    }
    const fileTemplate2 = {
        name: "Test2",
        content: "Hello, world!",
        locked: false,
        hidden: true
    }

    let backDrives = []
    function setDrives(){
        for(i = 0; i < 20; i++){
            backDrives.push({
                name: "Drive " + i,
                size: 8000000,
                used: 0,
                hidden: true,
                locked: false,
                files: [fileTemplate, fileTemplate2]
            })
        }
    }

    function secureDrives(){
        let drives = JSON.parse(JSON.stringify(backDrives));
        for(i = 0; i < drives.length; i++){
            files = []
            for(j = 0; j < drives[i].files.length; j++){
                if(drives[i].files[j].hidden){
                    delete drives[i].files[j]
                }
                
            }
            drives[i].files = drives[i].files.filter(function (el) {
                return el != null;
            });
            for(j = 0; j < drives[i].files.length; j++){
                files.push(drives[i].files[j].name)
            }
            drives[i].files = files
        }

        return drives
    }

    const Sys = {
        drives: [],
        displayDrives(driveNumber){
            Sys.drives = secureDrives()
            if(driveNumber == undefined) driveNumber = false;
            if(driveNumber){
                return Sys.drives[driveNumber];
            } else {
                return Sys.drives;
            }
        }
    }

    setDrives()
    secureDrives()
    



</script>