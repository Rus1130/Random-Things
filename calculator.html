<style>
    #grid {
        display: grid;
        grid-template-columns: 50px 50px 50px 50px 50px;
        grid-template-rows: 50px 50px 50px 50px 50px 50px;
        row-gap: 5px;
        column-gap: 5px;
    }
    button {
        border-radius: 0%;
        border-width: 0.5px;
        border-color: black;
        width: 50px;
        height: 50px;
    }
    #display {
        grid-column: 1/6;
        min-width: 259px;
        width:fit-content;
        height: 50px;
        border: 0.5px solid black;
        font-size: 20pt;
        display: flex;
        align-items: center;
        padding: 0;
        padding-left: 5px;
        padding-right: 5px;
    }
    .none {
        display: none;
    }
    html {
        font-family: Arial, Helvetica, sans-serif;
    }
</style>
<head>
    <script src="https://unpkg.com/hotkeys-js/dist/hotkeys.min.js"></script>
</head>
<body>
    <div id="devtools" class="none">
        <div id="innerNum1"></div>
        <div id="innerNum2"></div>
        <div id="cont"></div>
        <div id="newline"></div>
        <div id="call"></div>
        <div id="output"></div>
    </div>
    <div id="grid">
        <div id="display"></div>
        <button onclick="getValue(this.value)" value="7">7</button>
        <button onclick="getValue(this.value)" value="8">8</button>
        <button onclick="getValue(this.value)" value="9">9</button>
        <button onclick="opDiv()" id="div">÷</button>
        <button onclick="getValue(this.value)" value="4">4</button>
        <button onclick="getValue(this.value)" value="5">5</button>
        <button onclick="getValue(this.value)" value="6">6</button>
        <button onclick="opMult()" id="mult">×</button>
        <button onclick="getValue(this.value)" value="1">1</button>
        <button onclick="getValue(this.value)" value="2">2</button>
        <button onclick="getValue(this.value)" value="3">3</button>
        <button onclick="opSub()" id="sub">-</button>
        <button onclick="opMod()" title="modulus" id="mod">%</button>
        <button onclick="getValue(this.value)" value="0">0</button>
        <button onclick="neg()">(-)</button>
        <button onclick="opAdd()" id="add">+</button>
        <button onclick="calculate()" style="grid-column: 5/5; grid-row: 2/7; height: 270px">=</button>
        <button onclick="opPow()"title="exponentiation" id="exp">xˣ</button>
        <button title="Bitand" onclick="opAnd()">&</button>
        <button title="Bitor" onclick="opOr()">|</button>
        <button title="Bitxor" onclick="opXor()">^</button>
    </div>
</body>

<script>

var innerNum1 = 0;
var innerNum2 = 0;
var cont = false;
var newline = false;
var call = null;
let output = null;
var display = document.getElementById("display")

function opAdd(){
    solve()
    cont = true;
    newline = true;
    call = "add";
}

function opSub(){
    solve()
    cont = true;
    newline = true;
    call = "sub";
}

function opMult(){
    solve()
    cont = true;
    newline = true;
    call = "mult"
}

function opDiv(){
    solve()
    cont = true;
    newline = true;
    call = "div"
}

function opMod(){
    solve()
    cont = true;
    newline = true;
    call = "mod";
}

function opPow(){
    solve()
    cont = true;
    newline = true;
    call = "pwr";
}

function neg(){
    display.prepend("-")
}

function opAnd(){
    solve()
    cont = true;
    newline = true;
    call = "an";
}

function opOr(){
    solve()
    cont = true;
    newline = true;
    call = "or";
}

function opXor(){
    solve()
    cont = true;
    newline = true;
    call = "xr";
}

function findSlope(y2, y1, x2, x1){
    var y;
    var x;
    var m;
    y = parseInt(y2) - parseInt(y1);
    x = parseInt(x2) - parseInt(x1);
    m = parseInt(y) / parseInt(x)
    return m;
}

function math(operation, num1, num2){
    switch(operation){
        case "a":
            return parseInt(num1) + parseInt(num2);
            break
        case "s":
            return parseInt(num1) - parseInt(num2);
            break;
        case "m":
            return parseInt(num1) * parseInt(num2);
            break;
        case "d":
            return parseInt(num1) / parseInt(num2);
            break;
        case "mo":
            return parseInt(num1) % parseInt(num2)
            break;
        case "p":
            return parseInt(num1) ** parseInt(num2);
            break;
        case "an":
            return parseInt(num1) & parseInt(num2);
            break;
        case "o":
            return parseInt(num1) | parseInt(num2);
            break;
        case "x":
            return parseInt(num1) ^ parseInt(num2);
            break;
    }
}

function getValue(value){
    display.append(value)
    solve()
    if(newline == true){
        display.innerHTML = null;
        newline = false;
        display.append(value)
        innerNum2 = display.innerHTML;
    }

}

function solve(){
    if(cont == false){
        innerNum1 = display.innerHTML
    } 
    if(cont == true){
        innerNum2 = display.innerHTML;
    }
}

function calculate(){
    cont = false;
    switch(call){
        case "add": output = math("a", innerNum1, innerNum2)
        break;
        case "sub": output = math("s", innerNum1, innerNum2)
        break;
        case "mult": output = math("m", innerNum1, innerNum2)
        break;
        case "div": output = math("d", innerNum1, innerNum2)
        break;
        case "mod": output = math("mo",innerNum1, innerNum2)
        break;
        case "pwr": output = math("p", innerNum1, innerNum2)
        break;
        case "an": output = math("an", innerNum1, innerNum2)
        break;
        case "or": output = math("o", innerNum1, innerNum2)
        break;
        case "xr": output = math("x", innerNum1, innerNum2)
        break;
    }
    innerNum1 = 0;
    innerNum2 = 0;
    call = null;
    display.innerHTML = output;
}

setInterval(function(){
    document.getElementById("innerNum1").innerHTML = "innerNum1: " + innerNum1;
    document.getElementById("innerNum2").innerHTML = "innerNum2: " + innerNum2;
    document.getElementById("cont").innerHTML = "cont: " + cont;
    document.getElementById("newline").innerHTML = "newline: " + newline;
    document.getElementById("call").innerHTML = "call: " + call;
    document.getElementById("output").innerHTML = "output: " + output;
},1)


hotkeys("[", function(){
    if(document.getElementById("devtools").hasAttribute("class","none")){
        document.getElementById("devtools").removeAttribute("class","none")
    } else {
        document.getElementById("devtools").setAttribute("class","none")
    }
})
hotkeys("1", function (){
    getValue(1);
})
hotkeys("2", function (){
    getValue(2);
})
hotkeys("3", function (){
    getValue(3);
})
hotkeys("4", function (){
    getValue(4);
})
hotkeys("5", function (){
    getValue(5);
})
hotkeys("6", function (){
    getValue(6);
})
hotkeys("7", function (){
    getValue(7);
})
hotkeys("8", function (){
    getValue(8);
})
hotkeys("9", function (){
    getValue(9);
})
hotkeys("0", function (){
    getValue(0);
})
hotkeys("enter", function (){
    calculate();
})
hotkeys("alt + -", function(){
    neg();
})

hotkeys("backspace", function(){
    display.removeChild(display.lastChild)
})
</script>